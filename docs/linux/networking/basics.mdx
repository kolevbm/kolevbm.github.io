---
sidebar_label: "Basics"
displayed_sidebar: linuxSidebar
---

# Networking basics

## How to change yor Ip address

Where are files located? they are located in `/etc/network/interfaces` and `/etc/network/interfaces.d/`

```bash title="/etc/network/interfaces"
# This file describes the network interfaces available on your system
# and how to activate them. For more information, see interfaces(5).

source /etc/network/interfaces.d/*

# The loopback network interface
auto lo
iface lo inet loopback
```

### Static IP configuration

In the directory `/etc/network/interfaces.d/` you can create a file for each network interface you want to configure, for example, if you want to configure the `eth0` interface you can create a file called `eth0` in the directory `/etc/network/interfaces.d/` and add the following content:

```bash title="/etc/network/interfaces.d/eth0"
auto eth0
iface eth0 inet static
    address 192.168.1.100
    netmask 255.255.255.0
    gateway 192.168.1.1
    dns-nameservers 8.8.8.8 8.8.4.4
```

### DHCP configuration

If obtaining `ip` by a `dhcp server` , to prevent ip conflicts, you should use the following configuration:

```bash title="/etc/network/interfaces.d/eth0"
auto eth0
iface eth0 inet dhcp
```

for changes to take effect you need to restart the network service with the following command:

```bash
sudo systemctl restart networking
```

## How to change your DNS

The DNS configuration is located in the file
`/etc/resolv.conf`

```bash title="/etc/resolv.conf"
# Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)
#     DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN
# 127.0.0.53 is the systemd-resolved stub resolver.
# run "resolvectl status" to see details about the actual nameservers.

nameserver 8.8.8.8
nameserver 8.8.4.4
```

### Temporary DNS configuration

This method directly sets DNS servers for the current session.

```bash title="Set DNS servers for the current session"
sudo nano /etc/resolv.conf
```

Add the following lines to the end of the file:

```bash title="/etc/resolv.conf"
nameserver 8.8.8.8
nameserver 8.8.4.4
```

### Persistent DNS configuration

Using `/etc/network/interfaces`.
This method sets DNS servers for all sessions.

```bash title=""
sudo nano /etc/network/interfaces
```

For example add the following lines to the end of the file:

```bash title="/etc/network/interfaces"
auto eth0
iface eth0 inet static
    address 192.168.1.100
    netmask 255.255.255.0
    gateway 192.168.1.1
    dns-nameservers 8.8.8.8 8.8.4.4
```

## Useful commands

```bash title="show network interfaces"
ip a
```

```bash title="check interface status"
ip link
```

```bash title="show routing table"
ip route
```

```bash title="show dns configuration"
cat /etc/resolv.conf
```

```bash title="show hostname"
hostname
```

### Flush and Renew IP address

#### dhclient

````bash title="Show IP Address"
```bash title="Flush (Release) IP Address"
sudo dhclient -r <interface>
````

```bash title="Renew IP Address"

sudo dhclient <interface>

```

```bash title="Flush and renew"
sudo dhclient -r <interface> && sudo dhclient <interface>
```

#### ip commands

```bash title="Flush (Release) IP Address"
sudo ip addr flush dev <interface>
```

**Renew IP Address**

For a DHCP-managed interface, restart the `dhclient` to get a new lease:

```bash title="Renew IP Address"
sudo dhclient <interface>

```

For static IP configurations, restarting the networking service will reapply the IP:

```bash title="Flush and renew"
sudo systemctl restart networking
```
