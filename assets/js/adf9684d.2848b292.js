"use strict";(self.webpackChunktaking_notes=self.webpackChunktaking_notes||[]).push([[8605],{3527:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>o,contentTitle:()=>s,default:()=>m,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"mikrotik/sstp/sstp","title":"sstp","description":"sstp site-to-site vpn","source":"@site/docs/mikrotik/sstp/sstp.mdx","sourceDirName":"mikrotik/sstp","slug":"/mikrotik/sstp/","permalink":"/docs/mikrotik/sstp/","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"sidebar_label":"SSTP vpn","displayed_sidebar":"mikrotikSidebar"},"sidebar":"mikrotikSidebar","previous":{"title":"l2tp/IPSec","permalink":"/docs/mikrotik/l2tp/l2tpIPsec"}}');var i=n(4848),d=n(8453);const a={sidebar_label:"SSTP vpn",displayed_sidebar:"mikrotikSidebar"},s=void 0,o={},c=[{value:"sstp site-to-site vpn",id:"sstp-site-to-site-vpn",level:2}];function p(e){const r={code:"code",h2:"h2",img:"img",p:"p",pre:"pre",...(0,d.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.h2,{id:"sstp-site-to-site-vpn",children:"sstp site-to-site vpn"}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.img,{alt:"netwok-map",src:n(1926).A+"",width:"1031",height:"658"})}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"server \n   create bridge \n      [admin@MikroTik] > /interface bridge add name=LAN\n      [admin@MikroTik] > /interface bridge port add bridge=LAN interface=ether2\n      [admin@MikroTik] > /interface bridge port add bridge=LAN interface=ether3\n      [admin@MikroTik] > /interface bridge port add bridge=LAN interface=ether4\n   prepare dhcp server for LAN bridge\n      create dhcp pool\n\t     [admin@MikroTik] > /ip pool add name=dhcp-pool ranges=192.168.10.10-192.168.10.20\n      add dhcp-server\n\t     [admin@MikroTik] > /ip dhcp-server add address-pool=dhcp-pool interface=LAN name=dhcp1\n\t  add ip address\n\t     [admin@MikroTik] > /ip address add address=192.168.10.1/24 interface=LAN network=192.168.10.0\n      add dhcp-serer network\n\t     [admin@MikroTik] > /ip dhcp-server network add address=192.168.10.0/24 gateway=192.168.10.1\n      add Masquarade firewall\n\t     [admin@MikroTik] >  /ip firewall nat add chain=srcnat action=masquerade out-interface=ether1\n\n   create a ppp secret \n         [admin@MikroTik] > /ppp secret add local-address=10.0.0.1 name=MT-User password=StrongPass remote-address=10.0.0.5 service=sstp\n   setup the interface \n         [admin@MikroTik] > /interface sstp-server server set default-profile=default-encryption enabled=yes\n   add routes to remote-address\n         [admin@MikroTik] > /ip route add distance=1 dst-address=192.168.20.0/24 gateway=10.0.0.5\n\n\n"})}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"client \n   create bridge \n      [admin@MikroTik] > /interface bridge add name=LAN\n      [admin@MikroTik] > /interface bridge port add bridge=LAN interface=ether2\n      [admin@MikroTik] > /interface bridge port add bridge=LAN interface=ether3\n      [admin@MikroTik] > /interface bridge port add bridge=LAN interface=ether4\n   prepare dhcp server for LAN bridge\n      create dhcp pool\n\t     [admin@MikroTik] > /ip pool add name=dhcp-pool ranges=192.168.20.10-192.168.20.20\n      add dhcp-server\n\t     [admin@MikroTik] > /ip dhcp-server add address-pool=dhcp-pool interface=LAN name=dhcp1\n\t  add ip address\n\t     [admin@MikroTik] > /ip address add address=192.168.20.1/24 interface=LAN network=192.168.20.0\n      add dhcp-serer network\n\t     [admin@MikroTik] > /ip dhcp-server network add address=192.168.20.0/24 gateway=192.168.20.1\n      add Masquarade firewall\n\t     [admin@MikroTik] >  /ip firewall nat add chain=srcnat action=masquerade out-interface=ether1\n   prepare the sstp-client\n         [admin@MikroTik] > /interface sstp-client add connect-to=192.168.122.126 disabled=no name=sstp-out1 password=StrongPass profile=default-encryption user=MT-User\n   add routes to remote-address\n         [admin@MikroTik] > /ip route add distance=1 dst-address=192.168.20.0/24 gateway=10.0.0.1\n"})}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:'Tests:\nSERVER\n   [admin@MikroTik] > /interface/ sstp-server/ monitor\nnumbers: 0\n\t\t  status: connected\n\t\t  uptime: 1m13s\n\t\t\tuser: MT-User\n\t   caller-id: 192.168.122.240\n\t\tencoding: AES256-CBC\n\t\t\t mtu: 1500\n   local-address: 10.0.0.1\n  remote-address: 10.0.0.5\nCLIENT  \n[admin@MikroTik] > /interface sstp-client monitor\nnumbers: 0\n          status: connected\n          uptime: 5m54s\n        encoding: AES256-CBC\n             mtu: 1500\n   local-address: 10.0.0.5\n  remote-address: 10.0.0.1\n\n   [admin@MikroTik] > /interface sstp-client print\nFlags: X - disabled, R - running\n 0  R name="sstp-out1" max-mtu=1500 max-mru=1500 mrru=disabled connect-to=192.168.122.126:443 http-proxy=0.0.0.0:443\n      certificate=none verify-server-certificate=no verify-server-address-from-certificate=yes user="MT-User"\n      password="StrongPass" profile=default-encryption keepalive-timeout=60 add-default-route=no dial-on-demand=no\n      authentication=pap,chap,mschap1,mschap2 pfs=no tls-version=any\n'})})]})}function m(e={}){const{wrapper:r}={...(0,d.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},1926:(e,r,n)=>{n.d(r,{A:()=>t});const t=n.p+"assets/images/network-map-3a1294f0d56c28d47023ef01d91bd7ed.png"},8453:(e,r,n)=>{n.d(r,{R:()=>a,x:()=>s});var t=n(6540);const i={},d=t.createContext(i);function a(e){const r=t.useContext(d);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function s(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(d.Provider,{value:r},e.children)}}}]);