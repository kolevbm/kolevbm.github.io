---
slug: luckfox rv1106g canbus mcp2518fd
title: Running can bus on embedded linux - Luckfox Pico Ultra rv1106g
authors: [boris]
tags: [luckfox, buildroot, canbus, kernel, dts, mcp251xfd]
---

## short guideline

- buildroot:
  - add the needed utilities:
    - can-utils
- kernel config:
  - enable SPI
  - enable CAN-SPI driver
    - enable mcp251xfd driver
- modify the device tree source
  - remove unnecessary peripherals
  - add a clock source matching the mcp2518fd oscillator

{/* truncate */}

## lab setup

I am using the containerized Luckfox SDK docker image `luckfoxtech/luckfox_pico:1.0` for build environment.
As image flashing tool: `SOC Toolkit` for windows
